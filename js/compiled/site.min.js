/*! Sports Hack Day - v0.1.0 - 2013-01-21
* http://sportshackday.com/
* Copyright (c) 2013 Sports Hack Day; Licensed MIT */
(function(e,t,n,r){e.fn.miniTwitter=function(t){function i(){return e.ajax({url:s(),dataType:"jsonp"})}function s(){var e="https:"===n.location.protocol?"https:":"http:",t=r.max===null?r.limit:r.max;if(r.favorite)return e+"//api.twitter.com/favorites/"+r.username[0]+".json?page="+r.page+"&count="+t+"&include_entities=1&callback=?";if(r.list)return e+"//api.twitter.com/1/"+r.username[0]+"/lists/"+r.list+"/statuses.json?page="+r.page+"&per_page="+t+"&include_entities=1&callback=?";if(r.query===null&&r.username.length==1)return e+"//api.twitter.com/1/statuses/user_timeline.json?screen_name="+r.username[0]+"&count="+t+(r.retweet?"&include_rts=1":"")+"&page="+r.page+"&include_entities=1&callback=?";var i=r.query||"from:"+r.username.join(" OR from:");return e+"//search.twitter.com/search.json?&q="+encodeURIComponent(i)+"&rpp="+t+"&page="+r.page+"&include_entities=1&callback=?"}function o(e){return Date.parse(e.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3"))}function u(e){var t=(new Date).getTime()-o(e),n=new Date(o(e)),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t>864e5?t=n.getDate()+" "+r[n.getMonth()]:t>36e5?t=parseInt(t/36e5,10)+"h":t>6e4?t=parseInt(t/6e4,10)+"m":t>1e3&&(t=parseInt(t/1e3,10)+"s"),t}function a(t,n){return function(){var r=[];return this.each(function(){r.push(this.replace(t,n))}),e(r)}}function f(e){return e.replace(/</g,"&lt;").replace(/>/g,"^&gt;")}function l(){return r.nofollow?'rel="nofollow"':""}function c(){return r.blank?'target="_blank"':""}function h(e,t){var n=/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)|((mailto:)?[_.\w-]+@([\w][\w\-]+\.)+[a-zA-Z]{2,3})/g;return e.replace(n,function(e){var n=/^[a-z]+:/i.test(e)?e:"http://"+e,r=e;for(var i=0;i<t.length;++i){var s=t[i];if(s.url==n&&s.expanded_url){n=s.expanded_url,r=s.display_url;break}}return"<a "+l()+" "+c()+' href="'+f(n)+'">'+f(r)+"</a>"})}function p(t){var n={};return n.text=t.text,n.tweetId=t.id_str,n.tweetUrl=n.userUrl+"/status/"+n.tweetId,n.retweet=typeof t.retweeted_status!="undefined",n.screenName=n.retweet?t.retweeted_status.user.screen_name:t.from_user||t.user.screen_name,n.realName=n.retweet?t.retweeted_status.user.name:t.from_user_name||t.user.name,n.userUrl=n.retweet?"http://twitter.com/"+t.retweeted_status.user.screen_name:"http://twitter.com/"+n.screenName,n.tweetTime=u(t.created_at),n.image=n.retweet?t.retweeted_status.user.profile_image_url:t.profile_image_url||t.user.profile_image_url,n.replyUrl="http://twitter.com/intent/tweet?in_reply_to="+r.tweetId,n.retweetUrl="http://twitter.com/intent/retweet?tweet_id="+r.tweetId,n.favoriteUrl="http://twitter.com/intent/favorite?tweet_id="+r.tweetId,n.entities=t.entities?(t.entities.urls||[]).concat(t.entities.media||[]):[],n.retweetScreenName=n.retweet&&t.retweeted_status.user.screen_name,n.retweetName=n.retweet&&t.retweeted_status.user.name,n.writeTweet=n.retweet?t.retweeted_status.text:t.text,n.finalText=e([h(n.writeTweet,n.entities)]).linkUser().linkHash()[0],n.header='<div class="mt_header"> <a '+l()+" "+c()+' class="mt_user" href="'+n.userUrl+'">'+n.realName+'</a> <span class="mt_screen_name">@'+n.screenName+'</span> <div class="time">'+n.tweetTime+"</div></div>",n.avatar='<div class="tweet" tweetid='+n.tweetId+'><div class="mt_avatar"><a '+l()+" "+c()+' class="mt_avatar" href="'+n.userUrl+'"><img src="'+n.image+'" alt="'+n.realName+'\'s avatar" border="0"/></a></div>',n.textTweet='<div class="mt_text">'+n.finalText+"</div>",n.footer=n.retweet?'<div class="mt_footer"><span class="image_r"></span>Retweeted by <a '+l()+" "+c()+' class="mt_retweet" href="http://twitter.com/'+t.user.screen_name+'">'+t.user.name+'</a></div><div style="clear:both;"></div></div>':'<div class="mt_footer"></div><div style="clear:both;"></div></div>',n.linkColor=r.linkColor===null?t.from_user_id||t.user.profile_link_color:r.linkColor,n}function d(t){var n;i().done(function(r){tweets=e.map(r.results||r,function(e,t){return p(e)});if(e(t).find(".tweet").length>0){var i=e(t).find(".tweet").first().attr("tweetid"),s=[];for(n=0;n<tweets.length;n++){if(tweets[n].tweetId==i)break;s.push(tweets[n])}for(n=0;n<s.length;n++){var o=s[n];e(t).prepend(o.avatar+o.header+o.textTweet+o.footer),e(t).find(".tweet").last().remove()}}else{for(n=0;n<tweets.length;n++)e(t).append(tweets[n].avatar+tweets[n].header+tweets[n].textTweet+tweets[n].footer);e("."+e(t).attr("class")+" .mt_text a").css("color","#"+tweets[0].linkColor),v("."+e(t).attr("class")+" .mt_header a",tweets[0].linkColor,"333"),v("."+e(t).attr("class")+" .mt_footer a",tweets[0].linkColor,"999")}})}function v(t,n,r){e(t).hover(function(){e(this).css("color","#"+n)},function(){e(this).css("color","#"+r)})}var r=e.extend({username:["webdevdesigner"],list:null,favorite:!1,query:null,limit:5,max:null,page:1,retweet:!0,refresh:null,linkColor:null,nofollow:!0,blank:!0,tweetId:0},t);return e.fn.extend({linkUser:a(/(^|[\W])@(\w+)/gi,"$1<a "+l()+" "+c()+' href="http://twitter.com/$2">@$2</a>'),linkHash:a(/(?:^| )[\#]+([\w\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u00ff\u0600-\u06ff]+)/gi," <a "+l()+" "+c()+' href="http://search.twitter.com/search?q=&tag=$1&lang=all">#$1</a>')}),this.each(function(e,n){typeof t=="string"&&(r.username=[t]),r.username&&typeof r.username=="string"&&(r.username=[r.username]),d(n),r.refresh!==null})}})(jQuery,window,document),$(document).ready(function(){function e(){$(".tweets").miniTwitter({query:"#sportshackday OR @sportshackday OR sportshackday.com",limit:8})}e(),setInterval(function(){e()},1e4)}),(!window.console||!console.log)&&function(){var e=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],n=t.length,r=window.console={};while(n--)r[t[n]]=e}(),function(){var e={kitId:"kss4lrh",scriptTimeout:3e3},t=document.getElementsByTagName("html")[0];t.className+=" wf-loading";var n=setTimeout(function(){t.className=t.className.replace(/(\s|^)wf-loading(\s|$)/g," "),t.className+=" wf-inactive"},e.scriptTimeout),r=document.createElement("script"),i=!1;r.src="//use.typekit.net/"+e.kitId+".js",r.type="text/javascript",r.async="true",r.onload=r.onreadystatechange=function(){var t=this.readyState;if(i||t&&t!="complete"&&t!="loaded")return;i=!0,clearTimeout(n);try{Typekit.load(e)}catch(r){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(r,s)}();var _gaq=[["_setAccount","UA-XXXXX-X"],["_trackPageview"]];(function(e,t){var n=e.createElement(t),r=e.getElementsByTagName(t)[0];n.src=("https:"==location.protocol?"//ssl":"//www")+".google-analytics.com/ga.js",r.parentNode.insertBefore(n,r)})(document,"script");